#!/usr/bin/env node

/**
 * Module dependencies.
 */

var program  = require("commander")
  , pm       = require("../lib/prettymidi");


program
  .version(require("../package").version)
  .usage("[options] <file>")
  .option("-w, --watch", "run step every time a watched file changes.")
  .option("-o, --output <dir>", "output files to a specific directory.")
  .parse(process.argv);

if (program.args.length === 0) {
  program.help();
} 

if (program.watch) {
  console.log("Watching not implemented yet");
} else {
  pm.once(program.args, program.output);
}

